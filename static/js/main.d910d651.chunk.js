(this["webpackJsonpsigmausd-history"]=this["webpackJsonpsigmausd-history"]||[]).push([[0],{192:function(e,t,a){},194:function(e,t,a){},332:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),s=a(71),n=a.n(s),i=(a(192),a(23)),j=a(50),o=a.n(j),d=a(26),b=a(39),l=a(25),h=a(117),O=(a(194),a(195),a(58)),u=a(118),x=a.n(u),m=a(46),v=a.n(m),g=a(334),f=a(335),p=a(339),y=a(177),N=a(178),k=a(82),w=a(183),S=a(171),D=a(7);function T(e){return C.apply(this,arguments)}function C(){return(C=Object(h.a)(o.a.mark((function e(t){var a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=R(t),c="".concat("/sigmausd-history","/data/daily/").concat(a,".json"),e.next=4,fetch(c);case 4:return r=e.sent,e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return"".concat(e.year,"-").concat(x()(e.month.toString(),2,"0"),"-").concat(x()(e.day.toString(),2,"0"))}var L=function(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(function(){var e=O.DateTime.now().toUTC();return{start:e,end:e}}()),n=Object(l.a)(s,2),j=n[0],u=n[1],x=Object(c.useCallback)((function(e,t){r((function(a){return Object(b.a)(Object(b.a)({},a),{},Object(d.a)({},e,t))}))}),[]);Object(c.useEffect)((function(){var e=R(j.start),t=R(j.end);(function(){var c=Object(h.a)(o.a.mark((function c(){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(a[e]){c.next=7;break}return c.t0=x,c.t1=e,c.next=5,T(j.start);case 5:c.t2=c.sent,(0,c.t0)(c.t1,c.t2);case 7:if(e===t||a[t]){c.next=14;break}return c.t3=x,c.t4=t,c.next=12,T(j.end);case 12:c.t5=c.sent,(0,c.t3)(c.t4,c.t5);case 14:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}})()()}),[x,j,a]);var m=Object(c.useCallback)((function(){u((function(e){return a[R(e.start)]?Object(b.a)(Object(b.a)({},e),{},{start:e.start.minus(O.Duration.fromObject({days:1}))}):e}))}),[a]),C=Object(c.useMemo)((function(){var e=v()(Object.keys(a));return e.reduce((function(e,t){var c;return[].concat(Object(i.a)(e),Object(i.a)(null!==(c=a[t])&&void 0!==c?c:[]))}),[]).reduce((function(t,a,c){return c%Math.pow(e.length,2)===0?[].concat(Object(i.a)(t),[{label:O.DateTime.fromISO(a.time).toLocaleString(O.DateTime.DATETIME_SHORT),reserveRatio:parseInt(a.reserveRatio,10),stable:Math.round(100*parseFloat(a.stableCoinRatio))/100,reserve:parseInt(a.reserveCoinRatio,10)}]):t}),[])}),[a]);return Object(D.jsxs)("div",{className:"App container",children:[Object(D.jsx)("h1",{children:"SigmaUSD History"}),Object(D.jsxs)("h2",{children:[j.start.toLocaleString(O.DateTime.DATE_FULL),!j.start.equals(j.end)&&Object(D.jsxs)(D.Fragment,{children:[" ","\u2014"," ",j.end.toLocaleString(O.DateTime.DATE_FULL)]})]}),Object(D.jsx)("button",{className:"btn btn-primary",onClick:m,children:"Load Previous Day"}),Object(D.jsx)("hr",{}),Object(D.jsx)("div",{className:"row",children:Object(D.jsx)("div",{className:"col",children:Object(D.jsxs)("div",{className:" card text-dark bg-light mb-3",children:[Object(D.jsx)("div",{className:"card-header",children:"Reserve Ratio (%)"}),Object(D.jsx)("div",{className:"card-body ",children:Object(D.jsx)("div",{className:"reserveRatioChartWrapper",children:C&&Object(D.jsx)(g.a,{width:"100%",height:200,children:Object(D.jsxs)(f.a,{width:730,height:250,data:C,margin:{top:5,right:30,left:20,bottom:5},children:[Object(D.jsx)(p.a,{strokeDasharray:"3 3"}),Object(D.jsx)(y.a,{dataKey:"label"}),Object(D.jsx)(N.a,{}),Object(D.jsx)(k.a,{}),Object(D.jsx)(w.a,{type:"monotone",dataKey:"reserveRatio",stroke:"#8884d8"}),Object(D.jsx)(S.a,{y1:400,y2:800,fill:"green",opacity:.25,alwaysShow:!0})]})})})})]})})}),Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col",children:Object(D.jsxs)("div",{className:" card text-dark bg-light mb-3",children:[Object(D.jsx)("div",{className:"card-header",children:"SigmaUSD ($)"}),Object(D.jsx)("div",{className:"card-body ",children:Object(D.jsx)("div",{className:"reserveRatioChartWrapper",children:C&&Object(D.jsx)(g.a,{width:"100%",height:200,children:Object(D.jsxs)(f.a,{width:730,height:250,data:C,margin:{top:5,right:30,left:20,bottom:5},children:[Object(D.jsx)(p.a,{strokeDasharray:"3 3"}),Object(D.jsx)(y.a,{dataKey:"label"}),Object(D.jsx)(N.a,{}),Object(D.jsx)(k.a,{}),Object(D.jsx)(w.a,{type:"monotone",dataKey:"stable",stroke:"#8884d8"})]})})})})]})}),Object(D.jsx)("div",{className:"col",children:Object(D.jsxs)("div",{className:" card text-dark bg-light mb-3",children:[Object(D.jsx)("div",{className:"card-header",children:"SigmaRSV"}),Object(D.jsx)("div",{className:"card-body ",children:Object(D.jsx)("div",{className:"reserveRatioChartWrapper",children:C&&Object(D.jsx)(g.a,{width:"100%",height:200,children:Object(D.jsxs)(f.a,{width:730,height:250,data:C,margin:{top:5,right:30,left:20,bottom:5},children:[Object(D.jsx)(p.a,{strokeDasharray:"3 3"}),Object(D.jsx)(y.a,{dataKey:"label"}),Object(D.jsx)(N.a,{}),Object(D.jsx)(k.a,{}),Object(D.jsx)(w.a,{type:"monotone",dataKey:"reserve",stroke:"#8884d8"})]})})})})]})})]}),Object(D.jsx)("hr",{}),Object(D.jsx)("footer",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(D.jsx)("div",{className:"container-fluid",children:Object(D.jsx)("ul",{className:"navbar-nav",children:Object(D.jsx)("li",{className:"nav-item",children:Object(D.jsx)("a",{href:"http://sigmausd.io",className:"nav-link",children:"sigmausd.io"})})})})})]})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,341)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,n=t.getTTFB;a(e),c(e),r(e),s(e),n(e)}))},E=a(40),I=a(182);E.b.register(I.a),n.a.render(Object(D.jsx)(r.a.StrictMode,{children:Object(D.jsx)(L,{})}),document.getElementById("root")),F()}},[[332,1,2]]]);
//# sourceMappingURL=main.d910d651.chunk.js.map